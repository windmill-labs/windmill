{"version":3,"file":"pipe.js","sources":["../pipe.ts"],"sourcesContent":["/**\n * Performs pipe operations through a series of functions upon a value.\n * @module\n */\nconst _value = Symbol.for(\"value\");\n/**\n * Pipeline holds a value and allows you chain operations upon it (and the result\n * of the previous operation) to get the final result, similar to the Unix pipe\n * operator `|` in shell scripting.\n */\nexport class Pipeline {\n    constructor(value) {\n        this[_value] = value;\n    }\n    get [Symbol.toStringTag]() {\n        return \"Pipeline\";\n    }\n    get value() {\n        return this[_value];\n    }\n    /**\n     * Calls a function using the current value as its argument and returns a\n     * new {@link Pipeline} instance that holds the result.\n     */\n    pipe(fn, ...args) {\n        return new Pipeline(fn(this[_value], ...args));\n    }\n    valueOf() {\n        return this[_value];\n    }\n}\n/**\n * Constructs a {@link Pipeline} instance with the given value and performs pipe\n * operations upon it.\n *\n * @example\n * ```ts\n * import pipe from \"@ayonli/jsext/pipe\";\n *\n * const { value } = pipe(\"10\")\n *     .pipe(parseInt)\n *     .pipe(Math.pow, 2)\n *     .pipe(v => v.toFixed(2));\n *\n * console.log(`the value is ${value}`) // the value is 100.00\n * ```\n */\nexport default function pipe(value) {\n    return new Pipeline(value);\n}\n//# sourceMappingURL=pipe.js.map"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACnC;AACA;AACA;AACA;AACA;AACO,MAAM,QAAQ,CAAC;AACtB,IAAI,WAAW,CAAC,KAAK,EAAE;AACvB,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;AAC7B,KAAK;AACL,IAAI,KAAK,MAAM,CAAC,WAAW,CAAC,GAAG;AAC/B,QAAQ,OAAO,UAAU,CAAC;AAC1B,KAAK;AACL,IAAI,IAAI,KAAK,GAAG;AAChB,QAAQ,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC;AAC5B,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI,IAAI,CAAC,EAAE,EAAE,GAAG,IAAI,EAAE;AACtB,QAAQ,OAAO,IAAI,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;AACvD,KAAK;AACL,IAAI,OAAO,GAAG;AACd,QAAQ,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC;AAC5B,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS,IAAI,CAAC,KAAK,EAAE;AACpC,IAAI,OAAO,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC/B;;;;;"}