{"version":3,"file":"dialog.js","sources":["../dialog.ts"],"sourcesContent":["/**\n * Asynchronous dialog functions for both browsers and terminals.\n *\n * This includes `alert`, `confirm`, `prompt` and other non-standard dialogs.\n * @experimental\n * @module\n */\nimport progress from \"./dialog/progress.ts\";\nimport { openFile, openFiles, openDirectory, pickFile, pickFiles, pickDirectory, saveFile, downloadFile, } from \"./dialog/file.ts\";\nimport { isBrowserWindow, isDeno, isNodeLike } from \"./env.ts\";\nexport { openFile, openFiles, openDirectory, pickFile, pickFiles, pickDirectory, saveFile, downloadFile, };\nexport { progress };\n/**\n * Displays a dialog with a message, and to wait until the user dismisses the\n * dialog.\n *\n * @example\n * ```ts\n * import { alert } from \"@ayonli/jsext/dialog\";\n *\n * await alert(\"Hello, world!\");\n * ```\n */\nexport async function alert(message, options = {}) {\n    if (isBrowserWindow) {\n        const { alertInBrowser } = await import(\"./dialog/browser/index.ts\");\n        await alertInBrowser(message);\n    }\n    else if (isDeno || isNodeLike) {\n        const { default: alertInTerminal } = await import(\"./dialog/terminal/alert.ts\");\n        await alertInTerminal(message, options);\n    }\n    else {\n        throw new Error(\"Unsupported runtime\");\n    }\n}\n/**\n * Displays a dialog with a message, and to wait until the user either confirms\n * or cancels the dialog.\n *\n * @example\n * ```ts\n * import { confirm } from \"@ayonli/jsext/dialog\";\n *\n * if (await confirm(\"Are you sure?\")) {\n *     console.log(\"Confirmed\");\n * } else {\n *     console.log(\"Canceled\");\n * }\n * ```\n */\nexport async function confirm(message, options = {}) {\n    if (isBrowserWindow) {\n        const { confirmInBrowser } = await import(\"./dialog/browser/index.ts\");\n        return await confirmInBrowser(message);\n    }\n    else if (isDeno || isNodeLike) {\n        const { default: confirmInTerminal } = await import(\"./dialog/terminal/confirm.ts\");\n        return await confirmInTerminal(message, options);\n    }\n    else {\n        throw new Error(\"Unsupported runtime\");\n    }\n}\nexport async function prompt(message, options = \"\") {\n    var _a, _b, _c;\n    const defaultValue = typeof options === \"string\"\n        ? options\n        : options.defaultValue;\n    const type = typeof options === \"object\"\n        ? (_a = options.type) !== null && _a !== void 0 ? _a : \"text\"\n        : \"text\";\n    const mask = type === \"password\"\n        ? typeof options === \"object\" ? ((_b = options.mask) !== null && _b !== void 0 ? _b : \"*\") : \"*\"\n        : undefined;\n    const gui = typeof options === \"object\" ? ((_c = options.gui) !== null && _c !== void 0 ? _c : false) : false;\n    if (isBrowserWindow) {\n        const { promptInBrowser } = await import(\"./dialog/browser/index.ts\");\n        return await promptInBrowser(message, { type, defaultValue });\n    }\n    else if (isDeno || isNodeLike) {\n        const { default: promptInTerminal } = await import(\"./dialog/terminal/prompt.ts\");\n        return await promptInTerminal(message, { defaultValue, type, mask, gui });\n    }\n    else {\n        throw new Error(\"Unsupported runtime\");\n    }\n}\n//# sourceMappingURL=dialog.js.map"],"names":["isBrowserWindow","isDeno","isNodeLike"],"mappings":"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"}