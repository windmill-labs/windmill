"use strict";
// Copyright 2018-2023 the oak authors. All rights reserved. MIT license.
Object.defineProperty(exports, "__esModule", { value: true });
exports.getQuery = void 0;
const util_js_1 = require("./util.js");
function getQuery(ctx, { mergeParams, asMap } = {}) {
    const result = {};
    if (mergeParams && (0, util_js_1.isRouterContext)(ctx)) {
        Object.assign(result, ctx.params);
    }
    for (const [key, value] of ctx.request.url.searchParams) {
        result[key] = value;
    }
    return asMap ? new Map(Object.entries(result)) : result;
}
exports.getQuery = getQuery;
