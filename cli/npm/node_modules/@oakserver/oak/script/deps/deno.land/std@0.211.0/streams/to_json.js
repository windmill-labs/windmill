"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toJson = void 0;
const to_text_js_1 = require("./to_text.js");
/**
 * Converts a JSON-formatted {@linkcode ReadableSteam} of strings or
 * {@linkcode Uint8Array}s to an object. Works the same as
 * {@linkcode Response.json}.
 *
 * @example
 * ```ts
 * import { toJson } from "https://deno.land/std@$STD_VERSION/streams/to_json.ts";
 *
 * const stream = ReadableStream.from([JSON.stringify({ hello: "world" })]);
 * await toJson(stream); // { hello: "world" }
 * ```
 */
function toJson(readableStream) {
    return (0, to_text_js_1.toText)(readableStream).then(JSON.parse);
}
exports.toJson = toJson;
