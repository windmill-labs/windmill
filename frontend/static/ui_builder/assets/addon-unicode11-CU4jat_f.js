/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var j=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],ge=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],w;function me(e,t){let s=0,i=t.length-1,a;if(e<t[0][0]||e>t[i][1])return!1;for(;i>=s;)if(a=s+i>>1,e>t[a][1])s=a+1;else if(e<t[a][0])i=a-1;else return!0;return!1}var we=class{constructor(){if(this.version="6",!w){w=new Uint8Array(65536),w.fill(1),w[0]=0,w.fill(0,1,32),w.fill(0,127,160),w.fill(2,4352,4448),w[9001]=2,w[9002]=2,w.fill(2,11904,42192),w[12351]=1,w.fill(2,44032,55204),w.fill(2,63744,64256),w.fill(2,65040,65050),w.fill(2,65072,65136),w.fill(2,65280,65377),w.fill(2,65504,65511);for(let e=0;e<j.length;++e)w.fill(0,j[e][0],j[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?w[e]:me(e,ge)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}charProperties(e,t){let s=this.wcwidth(e),i=s===0&&t!==0;if(i){let a=R.extractWidth(t);a===0?i=!1:a>s&&(s=a)}return R.createPropertyValue(0,s,i)}},ye=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?te.isErrorNoTelemetry(e)?new te(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},be=new ye;function G(e){Ee(e)||be.onUnexpectedError(e)}var Y="Canceled";function Ee(e){return e instanceof Le?!0:e instanceof Error&&e.name===Y&&e.message===Y}var Le=class extends Error{constructor(){super(Y),this.name=this.message}},te=class X extends Error{constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof X)return t;let s=new X;return s.message=t.message,s.stack=t.stack,s}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}};function ke(e,t){let s=this,i=!1,a;return function(){return i||(i=!0,t||(a=e.apply(s,arguments))),a}}var xe;(e=>{function t(d){return d<0}e.isLessThan=t;function s(d){return d<=0}e.isLessThanOrEqual=s;function i(d){return d>0}e.isGreaterThan=i;function a(d){return d===0}e.isNeitherLessOrGreaterThan=a,e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0})(xe||(xe={}));var se;(e=>{function t(u){return u&&typeof u=="object"&&typeof u[Symbol.iterator]=="function"}e.is=t;let s=Object.freeze([]);function i(){return s}e.empty=i;function*a(u){yield u}e.single=a;function d(u){return t(u)?u:a(u)}e.wrap=d;function v(u){return u||s}e.from=v;function*y(u){for(let f=u.length-1;f>=0;f--)yield u[f]}e.reverse=y;function b(u){return!u||u[Symbol.iterator]().next().done===!0}e.isEmpty=b;function g(u){return u[Symbol.iterator]().next().value}e.first=g;function D(u,f){let _=0;for(let E of u)if(f(E,_++))return!0;return!1}e.some=D;function T(u,f){for(let _ of u)if(f(_))return _}e.find=T;function*A(u,f){for(let _ of u)f(_)&&(yield _)}e.filter=A;function*P(u,f){let _=0;for(let E of u)yield f(E,_++)}e.map=P;function*H(u,f){let _=0;for(let E of u)yield*f(E,_++)}e.flatMap=H;function*I(...u){for(let f of u)yield*f}e.concat=I;function $(u,f,_){let E=_;for(let W of u)E=f(E,W);return E}e.reduce=$;function*S(u,f,_=u.length){for(f<0&&(f+=u.length),_<0?_+=u.length:_>u.length&&(_=u.length);f<_;f++)yield u[f]}e.slice=S;function q(u,f=Number.POSITIVE_INFINITY){let _=[];if(f===0)return[_,u];let E=u[Symbol.iterator]();for(let W=0;W<f;W++){let N=E.next();if(N.done)return[_,e.empty()];_.push(N.value)}return[_,{[Symbol.iterator](){return E}}]}e.consume=q;async function V(u){let f=[];for await(let _ of u)f.push(_);return Promise.resolve(f)}e.asyncToArray=V})(se||(se={}));function ie(e){if(se.is(e)){let t=[];for(let s of e)if(s)try{s.dispose()}catch(i){t.push(i)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}function Te(...e){return ne(()=>ie(e))}function ne(e){return{dispose:ke(()=>{e()})}}var oe=class le{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{ie(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?le.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),void 0)}};oe.DISABLE_DISPOSED_WARNING=!1;var ee=oe,U=class{constructor(){this._store=new ee,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};U.None=Object.freeze({dispose(){}});var Ce=globalThis.performance&&typeof globalThis.performance.now=="function",De=class ae{static create(t){return new ae(t)}constructor(t){this._now=Ce&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},Ae;(e=>{e.None=()=>U.None;function t(l,r){return T(l,()=>{},0,void 0,!0,void 0,r)}e.defer=t;function s(l){return(r,o=null,n)=>{let h=!1,c;return c=l(p=>{if(!h)return c?c.dispose():h=!0,r.call(o,p)},null,n),h&&c.dispose(),c}}e.once=s;function i(l,r,o){return g((n,h=null,c)=>l(p=>n.call(h,r(p)),null,c),o)}e.map=i;function a(l,r,o){return g((n,h=null,c)=>l(p=>{r(p),n.call(h,p)},null,c),o)}e.forEach=a;function d(l,r,o){return g((n,h=null,c)=>l(p=>r(p)&&n.call(h,p),null,c),o)}e.filter=d;function v(l){return l}e.signal=v;function y(...l){return(r,o=null,n)=>{let h=Te(...l.map(c=>c(p=>r.call(o,p))));return D(h,n)}}e.any=y;function b(l,r,o,n){let h=o;return i(l,c=>(h=r(h,c),h),n)}e.reduce=b;function g(l,r){let o,n={onWillAddFirstListener(){o=l(h.fire,h)},onDidRemoveLastListener(){o==null||o.dispose()}},h=new x(n);return r==null||r.add(h),h.event}function D(l,r){return r instanceof Array?r.push(l):r&&r.add(l),l}function T(l,r,o=100,n=!1,h=!1,c,p){let m,L,M,O=0,C,pe={leakWarningThreshold:c,onWillAddFirstListener(){m=l(_e=>{O++,L=r(L,_e),n&&!M&&(z.fire(L),L=void 0),C=()=>{let ve=L;L=void 0,M=void 0,(!n||O>1)&&z.fire(ve),O=0},typeof o=="number"?(clearTimeout(M),M=setTimeout(C,o)):M===void 0&&(M=0,queueMicrotask(C))})},onWillRemoveListener(){h&&O>0&&(C==null||C())},onDidRemoveLastListener(){C=void 0,m.dispose()}},z=new x(pe);return p==null||p.add(z),z.event}e.debounce=T;function A(l,r=0,o){return e.debounce(l,(n,h)=>n?(n.push(h),n):[h],r,void 0,!0,void 0,o)}e.accumulate=A;function P(l,r=(n,h)=>n===h,o){let n=!0,h;return d(l,c=>{let p=n||!r(c,h);return n=!1,h=c,p},o)}e.latch=P;function H(l,r,o){return[e.filter(l,r,o),e.filter(l,n=>!r(n),o)]}e.split=H;function I(l,r=!1,o=[],n){let h=o.slice(),c=l(L=>{h?h.push(L):m.fire(L)});n&&n.add(c);let p=()=>{h==null||h.forEach(L=>m.fire(L)),h=null},m=new x({onWillAddFirstListener(){c||(c=l(L=>m.fire(L)),n&&n.add(c))},onDidAddFirstListener(){h&&(r?setTimeout(p):p())},onDidRemoveLastListener(){c&&c.dispose(),c=null}});return n&&n.add(m),m.event}e.buffer=I;function $(l,r){return(o,n,h)=>{let c=r(new q);return l(function(p){let m=c.evaluate(p);m!==S&&o.call(n,m)},void 0,h)}}e.chain=$;let S=Symbol("HaltChainable");class q{constructor(){this.steps=[]}map(r){return this.steps.push(r),this}forEach(r){return this.steps.push(o=>(r(o),o)),this}filter(r){return this.steps.push(o=>r(o)?o:S),this}reduce(r,o){let n=o;return this.steps.push(h=>(n=r(n,h),n)),this}latch(r=(o,n)=>o===n){let o=!0,n;return this.steps.push(h=>{let c=o||!r(h,n);return o=!1,n=h,c?h:S}),this}evaluate(r){for(let o of this.steps)if(r=o(r),r===S)break;return r}}function V(l,r,o=n=>n){let n=(...m)=>p.fire(o(...m)),h=()=>l.on(r,n),c=()=>l.removeListener(r,n),p=new x({onWillAddFirstListener:h,onDidRemoveLastListener:c});return p.event}e.fromNodeEventEmitter=V;function u(l,r,o=n=>n){let n=(...m)=>p.fire(o(...m)),h=()=>l.addEventListener(r,n),c=()=>l.removeEventListener(r,n),p=new x({onWillAddFirstListener:h,onDidRemoveLastListener:c});return p.event}e.fromDOMEventEmitter=u;function f(l){return new Promise(r=>s(l)(r))}e.toPromise=f;function _(l){let r=new x;return l.then(o=>{r.fire(o)},()=>{r.fire(void 0)}).finally(()=>{r.dispose()}),r.event}e.fromPromise=_;function E(l,r){return l(o=>r.fire(o))}e.forward=E;function W(l,r,o){return r(o),l(n=>r(n))}e.runAndSubscribe=W;class N{constructor(r,o){this._observable=r,this._counter=0,this._hasChanged=!1;let n={onWillAddFirstListener:()=>{r.addObserver(this)},onDidRemoveLastListener:()=>{r.removeObserver(this)}};this.emitter=new x(n),o&&o.add(this.emitter)}beginUpdate(r){this._counter++}handlePossibleChange(r){}handleChange(r,o){this._hasChanged=!0}endUpdate(r){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function de(l,r){return new N(l,r).emitter.event}e.fromObservable=de;function fe(l){return(r,o,n)=>{let h=0,c=!1,p={beginUpdate(){h++},endUpdate(){h--,h===0&&(l.reportChanges(),c&&(c=!1,r.call(o)))},handlePossibleChange(){},handleChange(){c=!0}};l.addObserver(p),l.reportChanges();let m={dispose(){l.removeObserver(p)}};return n instanceof ee?n.add(m):Array.isArray(n)&&n.push(m),m}}e.fromObservableLight=fe})(Ae||(Ae={}));var Z=class Q{constructor(t){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${t}_${Q._idPool++}`,Q.all.add(this)}start(t){this._stopWatch=new De,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}};Z.all=new Set,Z._idPool=0;var Se=Z,We=-1,he=class ue{constructor(t,s,i=(ue._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t,this.threshold=s,this.name=i,this._warnCountdown=0}dispose(){var t;(t=this._stacks)==null||t.clear()}check(t,s){let i=this.threshold;if(i<=0||s<i)return;this._stacks||(this._stacks=new Map);let a=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,a+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let[d,v]=this.getMostFrequentStack(),y=`[${this.name}] potential listener LEAK detected, having ${s} listeners already. MOST frequent listener (${v}):`;console.warn(y),console.warn(d);let b=new Ne(y,d);this._errorHandler(b)}return()=>{let d=this._stacks.get(t.value)||0;this._stacks.set(t.value,d-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,s=0;for(let[i,a]of this._stacks)(!t||s<a)&&(t=[i,a],s=a);return t}};he._idPool=1;var Me=he,Pe=class ce{constructor(t){this.value=t}static create(){let t=new Error;return new ce(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Ne=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},Oe=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},ze=0,B=class{constructor(e){this.value=e,this.id=ze++}},Fe=2,Ue,x=class{constructor(e){var t,s,i,a;this._size=0,this._options=e,this._leakageMon=(t=this._options)!=null&&t.leakWarningThreshold?new Me((e==null?void 0:e.onListenerError)??G,((s=this._options)==null?void 0:s.leakWarningThreshold)??We):void 0,this._perfMon=(i=this._options)!=null&&i._profName?new Se(this._options._profName):void 0,this._deliveryQueue=(a=this._options)==null?void 0:a.deliveryQueue}dispose(){var e,t,s,i;this._disposed||(this._disposed=!0,((e=this._deliveryQueue)==null?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(s=(t=this._options)==null?void 0:t.onDidRemoveLastListener)==null||s.call(t),(i=this._leakageMon)==null||i.dispose())}get event(){return this._event??(this._event=(e,t,s)=>{var v,y,b,g,D;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let T=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(T);let A=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],P=new Oe(`${T}. HINT: Stack shows most frequent listener (${A[1]}-times)`,A[0]);return(((v=this._options)==null?void 0:v.onListenerError)||G)(P),U.None}if(this._disposed)return U.None;t&&(e=e.bind(t));let i=new B(e),a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=Pe.create(),a=this._leakageMon.check(i.stack,this._size+1)),this._listeners?this._listeners instanceof B?(this._deliveryQueue??(this._deliveryQueue=new Re),this._listeners=[this._listeners,i]):this._listeners.push(i):((b=(y=this._options)==null?void 0:y.onWillAddFirstListener)==null||b.call(y,this),this._listeners=i,(D=(g=this._options)==null?void 0:g.onDidAddFirstListener)==null||D.call(g,this)),this._size++;let d=ne(()=>{a==null||a(),this._removeListener(i)});return s instanceof ee?s.add(d):Array.isArray(s)&&s.push(d),d}),this._event}_removeListener(e){var a,d,v,y;if((d=(a=this._options)==null?void 0:a.onWillRemoveListener)==null||d.call(a,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(y=(v=this._options)==null?void 0:v.onDidRemoveLastListener)==null||y.call(v,this),this._size=0;return}let t=this._listeners,s=t.indexOf(e);if(s===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[s]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Fe<=t.length){let b=0;for(let g=0;g<t.length;g++)t[g]?t[b++]=t[g]:i&&(this._deliveryQueue.end--,b<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=b}}_deliver(e,t){var i;if(!e)return;let s=((i=this._options)==null?void 0:i.onListenerError)||G;if(!s){e.value(t);return}try{e.value(t)}catch(a){s(a)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,s,i,a;if((t=this._deliveryQueue)!=null&&t.current&&(this._deliverQueue(this._deliveryQueue),(s=this._perfMon)==null||s.stop()),(i=this._perfMon)==null||i.start(this._size),this._listeners)if(this._listeners instanceof B)this._deliver(this._listeners,e);else{let d=this._deliveryQueue;d.enqueue(this,e,this._listeners.length),this._deliverQueue(d)}(a=this._perfMon)==null||a.stop()}hasListeners(){return this._size>0}},Re=class{constructor(){this.i=-1,this.end=0}enqueue(e,t,s){this.i=0,this.end=s,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},R=class F{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new x,this.onChange=this._onChange.event;let t=new we;this.register(t),this._active=t.version,this._activeProvider=t}static extractShouldJoin(t){return(t&1)!==0}static extractWidth(t){return t>>1&3}static extractCharKind(t){return t>>3}static createPropertyValue(t,s,i=!1){return(t&16777215)<<3|(s&3)<<1|(i?1:0)}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(t){if(!this._providers[t])throw new Error(`unknown Unicode version "${t}"`);this._active=t,this._activeProvider=this._providers[t],this._onChange.fire(t)}register(t){this._providers[t.version]=t}wcwidth(t){return this._activeProvider.wcwidth(t)}getStringCellWidth(t){let s=0,i=0,a=t.length;for(let d=0;d<a;++d){let v=t.charCodeAt(d);if(55296<=v&&v<=56319){if(++d>=a)return s+this.wcwidth(v);let g=t.charCodeAt(d);56320<=g&&g<=57343?v=(v-55296)*1024+g-56320+65536:s+=this.wcwidth(g)}let y=this.charProperties(v,i),b=F.extractWidth(y);F.extractShouldJoin(y)&&(b-=F.extractWidth(i)),s+=b,i=y}return s}charProperties(t,s){return this._activeProvider.charProperties(t,s)}},J=[[768,879],[1155,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1541],[1552,1562],[1564,1564],[1611,1631],[1648,1648],[1750,1757],[1759,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2045,2045],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2259,2306],[2362,2362],[2364,2364],[2369,2376],[2381,2381],[2385,2391],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2558,2558],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2641,2641],[2672,2673],[2677,2677],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2810,2815],[2817,2817],[2876,2876],[2879,2879],[2881,2884],[2893,2893],[2902,2902],[2914,2915],[2946,2946],[3008,3008],[3021,3021],[3072,3072],[3076,3076],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3170,3171],[3201,3201],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3328,3329],[3387,3388],[3393,3396],[3405,3405],[3426,3427],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3981,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4151],[4153,4154],[4157,4158],[4184,4185],[4190,4192],[4209,4212],[4226,4226],[4229,4230],[4237,4237],[4253,4253],[4448,4607],[4957,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6158],[6277,6278],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6683,6683],[6742,6742],[6744,6750],[6752,6752],[6754,6754],[6757,6764],[6771,6780],[6783,6783],[6832,6846],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7040,7041],[7074,7077],[7080,7081],[7083,7085],[7142,7142],[7144,7145],[7149,7149],[7151,7153],[7212,7219],[7222,7223],[7376,7378],[7380,7392],[7394,7400],[7405,7405],[7412,7412],[7416,7417],[7616,7673],[7675,7679],[8203,8207],[8234,8238],[8288,8292],[8294,8303],[8400,8432],[11503,11505],[11647,11647],[11744,11775],[12330,12333],[12441,12442],[42607,42610],[42612,42621],[42654,42655],[42736,42737],[43010,43010],[43014,43014],[43019,43019],[43045,43046],[43204,43205],[43232,43249],[43263,43263],[43302,43309],[43335,43345],[43392,43394],[43443,43443],[43446,43449],[43452,43453],[43493,43493],[43561,43566],[43569,43570],[43573,43574],[43587,43587],[43596,43596],[43644,43644],[43696,43696],[43698,43700],[43703,43704],[43710,43711],[43713,43713],[43756,43757],[43766,43766],[44005,44005],[44008,44008],[44013,44013],[64286,64286],[65024,65039],[65056,65071],[65279,65279],[65529,65531]],He=[[66045,66045],[66272,66272],[66422,66426],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[68325,68326],[68900,68903],[69446,69456],[69633,69633],[69688,69702],[69759,69761],[69811,69814],[69817,69818],[69821,69821],[69837,69837],[69888,69890],[69927,69931],[69933,69940],[70003,70003],[70016,70017],[70070,70078],[70089,70092],[70191,70193],[70196,70196],[70198,70199],[70206,70206],[70367,70367],[70371,70378],[70400,70401],[70459,70460],[70464,70464],[70502,70508],[70512,70516],[70712,70719],[70722,70724],[70726,70726],[70750,70750],[70835,70840],[70842,70842],[70847,70848],[70850,70851],[71090,71093],[71100,71101],[71103,71104],[71132,71133],[71219,71226],[71229,71229],[71231,71232],[71339,71339],[71341,71341],[71344,71349],[71351,71351],[71453,71455],[71458,71461],[71463,71467],[71727,71735],[71737,71738],[72148,72151],[72154,72155],[72160,72160],[72193,72202],[72243,72248],[72251,72254],[72263,72263],[72273,72278],[72281,72283],[72330,72342],[72344,72345],[72752,72758],[72760,72765],[72767,72767],[72850,72871],[72874,72880],[72882,72883],[72885,72886],[73009,73014],[73018,73018],[73020,73021],[73023,73029],[73031,73031],[73104,73105],[73109,73109],[73111,73111],[73459,73460],[78896,78904],[92912,92916],[92976,92982],[94031,94031],[94095,94098],[113821,113822],[113824,113827],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[121344,121398],[121403,121452],[121461,121461],[121476,121476],[121499,121503],[121505,121519],[122880,122886],[122888,122904],[122907,122913],[122915,122916],[122918,122922],[123184,123190],[123628,123631],[125136,125142],[125252,125258],[917505,917505],[917536,917631],[917760,917999]],K=[[4352,4447],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9725,9726],[9748,9749],[9800,9811],[9855,9855],[9875,9875],[9889,9889],[9898,9899],[9917,9918],[9924,9925],[9934,9934],[9940,9940],[9962,9962],[9970,9971],[9973,9973],[9978,9978],[9981,9981],[9989,9989],[9994,9995],[10024,10024],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11093],[11904,11929],[11931,12019],[12032,12245],[12272,12283],[12288,12329],[12334,12350],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12730],[12736,12771],[12784,12830],[12832,12871],[12880,19903],[19968,42124],[42128,42182],[43360,43388],[44032,55203],[63744,64255],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65281,65376],[65504,65510]],Ie=[[94176,94179],[94208,100343],[100352,101106],[110592,110878],[110928,110930],[110948,110951],[110960,111355],[126980,126980],[127183,127183],[127374,127374],[127377,127386],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128725,128725],[128747,128748],[128756,128762],[128992,129003],[129293,129393],[129395,129398],[129402,129442],[129445,129450],[129454,129482],[129485,129535],[129648,129651],[129656,129658],[129664,129666],[129680,129685],[131072,196605],[196608,262141]],k;function re(e,t){let s=0,i=t.length-1,a;if(e<t[0][0]||e>t[i][1])return!1;for(;i>=s;)if(a=s+i>>1,e>t[a][1])s=a+1;else if(e<t[a][0])i=a-1;else return!0;return!1}var $e=class{constructor(){if(this.version="11",!k){k=new Uint8Array(65536),k.fill(1),k[0]=0,k.fill(0,1,32),k.fill(0,127,160);for(let e=0;e<J.length;++e)k.fill(0,J[e][0],J[e][1]+1);for(let e=0;e<K.length;++e)k.fill(2,K[e][0],K[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?k[e]:re(e,He)?0:re(e,Ie)?2:1}charProperties(e,t){let s=this.wcwidth(e),i=s===0&&t!==0;if(i){let a=R.extractWidth(t);a===0?i=!1:a>s&&(s=a)}return R.createPropertyValue(0,s,i)}},qe=class{activate(e){e.unicode.register(new $e)}dispose(){}};export{qe as Unicode11Addon};
