\d
select * from config;
\d
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
select * from global_settings;
\d
\d
select logckfile from pip_resolution_cache
;
select lockfile from pip_resolution_cache
;
select * from pip_resolution_cache;
select created_at from jobs 
;
\d
select * from v2_job_completed;
\d v2_job_completed
select started_at from v2_job_completed;
\d
select * from script;
\d script
select lock from script;
\d script
select lock from script where language = 'python3'::script_lang;
select lock from script where language = 'python3'::script_lang;
UPDATE scripts
SET lock = '', WHERE language = 'python3'::script_lang;
UPDATE scripts
SET lock = '' WHERE language = 'python3'::script_lang;
UPDATE scripts SET lock = '' WHERE language = 'python3'::script_lang;
UPDATE script SET lock = '' WHERE language = 'python3'::script_lang;
select lock from script where language = 'python3'::script_lang;
UPDATE script SET lock = '#' WHERE language = 'python3'::script_lang;
UPDATE script SET lock = '' WHERE language = 'python3'::script_lang;
UPDATE script SET lock = '' WHERE language = 'python3'::script_lang;
\\d
\d
select * config;
select * from config;
select * from global_settings;
DELETE FROM global_settings
WHERE name='instance_python_version';
\d
\d pip_resolution_cache;
SELECT * FROM healthchecks;
SELECT pg_size_pretty(pg_database_size(current_database()));
select * from global_settings where name = 'critical_alerts_on_db_oversize';
\d healthchecks;
select * from global_settings;
select * from global_settings;
select * from healthchecks;
select * from healthchecks where healty=f;
select * from healthchecks where healty = f;
select * from healthchecks where healty = 'f';
select * from healthchecks where healthy = 'f';
delete from healthchecks where check_type="low-disk-db"
;
delete from healthchecks where check_type = "low-disk-db"
;
delete from healthchecks where id = 58
;
select * from healthchecks;
delete from healthchecks where id = 65;
select * from healthchecks where healty = f
;
select * from healthchecks where healty = 'f';
select * from healthchecks where healthy = 'f';
select * from global_settings;
\d
\d v2_job_queue
select * from v2_job_queue
;
select * from v2_job_queue;
select * from v2_job_queue;
select * from v2_job_queue;
SELECT wm_version FROM worker_ping ;
SELECT * FROM worker_ping;
\d worker_ping
SELECT * FROM worker_ping;
SELECT * FROM worker_ping;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
SELECT wm_version FROM worker_ping ;
select * from scripts;
select * from script;
select * from script where path='u/admin/ebullient_script';
select lock from script where path='u/admin/ebullient_script';
\d
\d script
select content from script where path='u/admin/ebullient_script';
select path from script;
\d script
UPDATE script 
SET lock = '#py310' 
WHERE path = 'u/admin/ebullient_script';
UPDATE script 
SET lock = '' 
WHERE path = 'u/admin/ebullient_script';
UPDATE script 
SET lock = '' 
WHERE path = 'u/admin/ebullient_script';
UPDATE script 
SET lock = 'rich' 
WHERE path = 'u/admin/ebullient_script';
\d
select * from healthchecks;
select * from healthchecks;
select * from healthchecks;
select * from healthchecks;
\s
\dt;
select * from flow;
select * config;
select * from config;
select * from config;
select * from config;
select * from config;
/dt script
/dt script;
\dt script
\d script
\d
\d v2_job
SELECT typname, typcategory, typtype, typowner::regrole 
FROM pg_type 
WHERE typname = 'script_lang';
\d v2_job
SELECT pg_catalog.format_type(oid, NULL) AS definition
FROM pg_type 
WHERE typname = 'script_lang';
select * from pg_type
;
SELECT * FROM pg_type 
WHERE typname = 'script_lang';
SELECT * FROM pg_type 
WHERE typname = 'script_lang';
\d
select * from config
;
SELECT pg_type.typname 
FROM pg_type 
JOIN pg_enum ON pg_enum.enumtypid = pg_type.oid;
SELECT enumlabel 
FROM pg_enum 
JOIN pg_type ON pg_type.oid = pg_enum.enumtypid 
WHERE pg_type.typname = 'script_lang';
\dT+ script_lang
SELECT oid, typname FROM pg_type WHERE typname LIKE '%script_lang%';
CREATE TEMPORARY TABLE test_enum (lang script_lang);
INSERT INTO test_enum (lang) VALUES ('ruby');
\d
select * from _sqlx_migrations;
select * from _sqlx_migrations where version = 20250718191752;
select * from _sqlx_migrations where version = 20250724151028;
\d
\d script
select * from script;
select (lock, language) from script;
select (lock) from script where language='ruby';
\d script
select (lock,hash,path) from script where language='ruby';
select (lock,hash,path) from script where language='ruby';
select (lock,hash,path) from script where language='ruby';
select * from pip_resolution_cache;
delete from pip_resolution_cache;
delet from pip_resolution_cache;
delete from pip_resolution_cache;
delete from pip_resolution_cache;
delete from pip_resolution_cache;
delete from pip_resolution_cache;
delete from pip_resolution_cache;
delete from pip_resolution_cache;
delete from pip_resolution_cache;
select * from pip_resolution_cache;
delete from pip_resolution_cache;
delete from pip_resolution_cache;
delete from pip_resolution_cache;
select * from pip_resolution_cache;
select * from pip_resolution_cache;
select * from pip_resolution_cache;
delete from pip_resolution_cache;
select * from pip_resolution_cache;
select * from pip_resolution_cache;
delete from pip_resolution_cache;
\d
\d scripts;
\d script
select parent_hashes from script;
select (path, parent_hashes) from script;
select (path, parent_hashes) from script where path='u/admin/hottest_script';
\d script
select (created_at, parent_hashes) from script where path='u/admin/hottest_script';
select (created_at, parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
select parent_hashes from script where path='u/admin/hottest_script' ORDER BY created_at;
select hash parent_hashes from script where path='u/admin/hottest_script' ORDER BY created_at;
select (hash parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
select (hash, parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
select (hash -> parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
select (hash, parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
select (archived, hash, parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
\d dependency_map
select * dependency_map;
select * from dependency_map;
select (archived, hash, parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
\d script
INSERT INTO script (hash, workspace_id, lock, parent_hashes, other_columns) 
     SELECT 123, admins, 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), other_columns 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = admins
select (archived, hash, parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
;
INSERT INTO script (hash, workspace_id, lock, parent_hashes, other_columns) 
     SELECT 123, admins, 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), other_columns 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = admins;
\d script;
INSERT INTO script (hash, workspace_id, lock, parent_hashes, other_columns) 
     SELECT 123, admins, 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), other_columns 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = admins;
INSERT INTO script (hash, workspace_id, lock, parent_hashes) 
     SELECT 123, admins, 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])) 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = admins;
INSERT INTO script (hash, workspace_id, lock, parent_hashes) 
     SELECT 123, 'admins', 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])) 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = admins;
INSERT INTO script (hash, workspace_id, lock, parent_hashes) 
     SELECT 123, 'admins', 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])) 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = 'admins';
INSERT INTO script (hash, workspace_id, lock, parent_hashes, path) 
     SELECT 123, 'admins', 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), path 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = 'admins';
INSERT INTO script (hash, workspace_id, lock, parent_hashes, path, summary) 
     SELECT 123, 'admins', 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), path, summary 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = 'admins';
INSERT INTO script (hash, workspace_id, lock, parent_hashes, path, summary, description) 
     SELECT 123, 'admins', 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), path, summary, description 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = 'admins';
WITH source_script AS (
        SELECT * FROM script WHERE hash = 3899739875132210582 AND workspace_id = 'admins'
     )
INSERT INTO script (hash, workspace_id, lock, parent_hashes, path, summary, description) 
     SELECT 123, 'admins', 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), path, summary, description 
     FROM script 
     WHERE hash = 3899739875132210582 AND workspace_id = 'admins';
WITH source_script AS (
        SELECT * FROM script WHERE hash = 3899739875132210582 AND workspace_id = 'admins'
     )
INSERT INTO script (hash, workspace_id, lock, parent_hashes, path, summary, description) 
     SELECT 123, 'admins', 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), path, summary, description 
     FROM source_script 
     WHERE hash = 3899739875132210582 AND workspace_id = 'admins';
WITH source_script AS (
        SELECT * FROM script WHERE hash = 3899739875132210582 AND workspace_id = 'admins'
     )
INSERT INTO script (hash, workspace_id, lock, parent_hashes, path, summary, description) 
     SELECT 123, 'admins', 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), path, summary, description 
     FROM source_script;
WITH source_script AS (
        SELECT * FROM script WHERE hash = 3899739875132210582 AND workspace_id = 'admins'
     )
INSERT INTO script SELECT 123, 'admins', 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), path, summary, description 
     FROM source_script;
WITH source_script AS (
        SELECT * FROM script WHERE hash = 3899739875132210582 AND workspace_id = 'admins'
     )
INSERT INTO script SELECT 123, workspace_id, 'test', array_prepend(3899739875132210582::bigint, COALESCE(parent_hashes, '{}'::bigint[])), path, summary, description 
     FROM source_script;
WITH source_script AS (
        SELECT * FROM script WHERE hash = 3899739875132210582 AND workspace_id = 'admins'
     )
INSERT INTO script SELECT 123  FROM source_script;
WITH source_script AS (
        SELECT * FROM script WHERE hash = 3899739875132210582 AND workspace_id = 'admins'
     )
INSERT INTO script SELECT 123 FROM source_script;
\d scripts
\d scripts
\d script
WITH source_script AS (
        SELECT * FROM script WHERE hash = 3899739875132210582 AND workspace_id = 'admins'
     )
INSERT INTO script SELECT 123 FROM source_script;
WITH source_script AS (
        SELECT * FROM script WHERE hash = 3899739875132210582 AND workspace_id = 'admins'
     )
INSERT INTO script SELECT 'admins', 123 FROM source_script;
select (archived, hash, parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
select (archived, hash, parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
select (archived, hash, parent_hashes) from script where path='u/admin/hottest_script' ORDER BY created_at;
select * from script;
select (archived, hash, parent_hashes) from script ORDER BY created_at;
select (path, archived, hash, parent_hashes) from script ORDER BY created_at;
select (path, archived, hash, parent_hashes) from script ORDER BY created_at;
select (archived, hash, parent_hashes) from script where path='u/admin/valuable_script' ORDER BY created_at;
;
select (archived, hash, parent_hashes) from script where path='u/admin/valuable_script' ORDER BY created_at;
UPDATE script SET archived = true WHERE hash = 363451093986829332 AND workspace_id = 'admins';
select (archived, hash, parent_hashes) from script where path='u/admin/valuable_script' ORDER BY created_at;
\d script
\d script
\d flow_version_lite
SELECT * from flow_version;
SELECT schema from flow_version;
\d flow_version
select * from flow_version;
select id from flow_version;
\d flow_version
select value from flow_version;
select id from flow_version;
\d
select * from flow_version;
select id from flow_version;
select * from flow_node;
select * from flow_node;
select * from flow_node;
select * from flow_node;
select versions from flow;
select versions from flow;
select versions from flow;
select versions from flow;
select versions from flow;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
\d dependency_map
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
\d flow
\d flow_value
\d flow_versions
\d flow_version
\d
select * from workspace_runnable_dependencies;
select * from dependency_map;
select * from dependency_map where importer_path = 'f/r/nff';
select importer_node_id from dependency_map where importer_path = 'f/r/nff';
select versions from app;
select versions from flow;
select value from flow_version_lite;
\d flow_version_lite
select value from flow_version_lite where id = 132;
\d flow_version_lite
select versions from flow;
select value from flow_version_lite where id = 231;
select versions from flow;
select value from flow_version_lite where id = 232;
select value from flow_version_lite where id = 233;
select * from dependency_map where importer_path = 'f/r/nff';
select imported_path from dependency_map;
select imported_path,importer_node_id from dependency_map;
select imported_path,importer_node_id from dependency_map where importer_node_id = 'a';
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select value from flow_version_lite;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
select * from dependency_map;
\d dependency_map
\d script;
\d script
select lock from script where path = 'f/dre/leaf'
;
select lock from script where path = 'f/dre/leaf'
;
;
clear
;
SELECT versions[array_upper(versions, 2)] FROM flow WHERE path = 'f/dre/flow';
SELECT versions[array_upper(versions, 1)] FROM flow WHERE path = 'f/dre/flow';
\d v2_job_queue
select * from flow;
select value from flow;
\d v2_job
\d v2_job_completed 
\d script
\d sc
\d
\d script
\d v2_job_queue
\d v2_job_queue
\d v2job_queue
\d v2_job_queue
\d v2_job_queue
\d v2_job_queue
\d v2_job_queue
\d v2_job
\d v2_job_completed 
\d script
\d script
\d
\d workspace_runnable_dependencies
select * from script;
select * from script;
select archived,path from script;
\d script
\d v2_job_queue
\d script
\d app
\d app_version
get value from app_version ORDERED BY created_at
;
select value from app_version ORDERED BY created_at
;
select value from app_version ORDER BY created_at DESC
;
select value from app_version ORDER BY created_at DESC
LIMIT 1;
select value from app_version ORDER BY created_at DESC
LIMIT 1;
select value from app_version ORDER BY created_at DESC
LIMIT 1;
\d v2_job
\d script
\s script
